# 1 "overlays/imx6ull/imx-seeed-voicecard-2mic-overlay.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "overlays/imx6ull/imx-seeed-voicecard-2mic-overlay.dts"
# 9 "overlays/imx6ull/imx-seeed-voicecard-2mic-overlay.dts"
# 1 "include/imx6ul-pinfunc.h" 1
# 10 "overlays/imx6ull/imx-seeed-voicecard-2mic-overlay.dts" 2
# 1 "include/dt-bindings/clock/imx6ul-clock.h" 1
# 11 "overlays/imx6ull/imx-seeed-voicecard-2mic-overlay.dts" 2

/dts-v1/;
/plugin/;


/ {
     compatible = "fsl,imx6ull-14x14-evk", "fsl,imx6ull";
        fragment@0 {
            target-path="/";
            __overlay__ {
                wm8960_mclk: wm8960_mclk {
                        compatible = "fixed-clock";
                        #clock-cells = <0>;
                        clock-frequency = <24000000>;
                };

            };
        };

        fragment@1 {
                target = <&i2c2>;
                __overlay__ {
                        clock_frequency = <100000>;
                        pinctrl-names = "default";
                        pinctrl-0 = <&pinctrl_i2c2>;
                        status = "okay";

                        #address-cells = <1>;
                        #size-cells = <0>;
                        wm8960: wm8960{
                            compatible = "wlf,wm8960";
                            reg = <0x1a>;
                            #sound-dai-cells = <0>;

                            clock-names = "mclk";
                            clocks = <&wm8960_mclk>;
                        };
                };
        };

        fragment@2 {
            target = <&sai1>;
            __overlay__ {
                pinctrl-names = "default";
                pinctrl-0 = <&pinctrl_sai1>;

                assigned-clocks = <&clks 70>,
                                <&clks 178>;
                assigned-clock-parents = <&clks 50>;
                assigned-clock-rates = <0>, <12288000>;
                #sound-dai-cells = <0>;
                status = "okay";
            };
        };

        fragment@3 {
                target = <&sound>;
                __overlay__ {
                    compatible = "simple-audio-card";
                    simple-audio-card,format = "i2s";
                    simple-audio-card,name = "seeed-2mic-voicecard";
                    status = "okay";
                    simple-audio-card,widgets =
                            "Microphone", "Mic Jack",
                            "Line", "Line In",
                            "Line", "Line Out",
                            "Speaker", "Speaker",
                            "Headphone", "Headphone Jack";
                    simple-audio-card,routing =
                            "Headphone Jack", "HP_L",
                            "Headphone Jack", "HP_R",
                            "Speaker", "SPK_LP",
                            "Speaker", "SPK_LN",
                            "LINPUT1", "Mic Jack",
                            "LINPUT3", "Mic Jack",
                            "RINPUT1", "Mic Jack",
                            "RINPUT2", "Mic Jack";
                    simple-audio-card,bitclock-master = <&sound_master>;
                    simple-audio-card,frame-master = <&sound_master>;



                    sound_master:simple-audio-card,cpu {
                        sound-dai = <&sai1>;
                        system-clock-frequency = <24000000>;
                        system-clock-id = <1>;
                    };
                    simple-audio-card,codec {
                        sound-dai = <&wm8960>;


                    };
                };

        };

        fragment@4 {
                target = <&iomuxc>;
                __overlay__ {
                    pinctrl_i2c2: i2c2grp {
                    fsl,pins = <
                        0x00bc 0x0348 0x05ac 2 2 0x4001b8b0
                        0x00c0 0x034c 0x05b0 2 2 0x4001b8b0
                        >;
                    };
                    pinctrl_sai1: sai1grp {
                        fsl,pins = <
                            0x01f4 0x0480 0x05ec 6 1 0x1b0b0
                            0x01f8 0x0484 0x05e8 6 1 0x1b0b0
                            0x01fc 0x0488 0x05e4 6 1 0x110b0
                            0x0200 0x048c 0x0000 6 0 0x1f0b8

                        >;
                    };
                };
        };
};
