# 1 "overlays/ebf/imx-fire-btwifi-overlay.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "overlays/ebf/imx-fire-btwifi-overlay.dts"
# 9 "overlays/ebf/imx-fire-btwifi-overlay.dts"
# 1 "include/imx6ul-pinfunc.h" 1
# 10 "overlays/ebf/imx-fire-btwifi-overlay.dts" 2
# 1 "include/imx6ull-pinfunc-snvs.h" 1
# 11 "overlays/ebf/imx-fire-btwifi-overlay.dts" 2
# 1 "include/dt-bindings/input/linux-event-codes.h" 1
# 12 "overlays/ebf/imx-fire-btwifi-overlay.dts" 2
# 1 "include/dt-bindings/gpio/gpio.h" 1
# 13 "overlays/ebf/imx-fire-btwifi-overlay.dts" 2

/dts-v1/;
/plugin/;

/{
 fragment@0{
  target = <&iomuxc>;
  __overlay__ {
            pinctrl_wifi: wifigrp {
                fsl,pins = <
                0x0060 0x02ec 0x0000 5 0 0x010B1
                >;
            };
  };
 };

    fragment@1{
        target=<&iomuxc_snvs>;
        __overlay__ {
            pinctrl_spi4: spi4grp {
                fsl,pins = <
                    0x0000 0x0044 0x0000 0x5 0x0 0x70a1
                    0x0004 0x0048 0x0000 0x5 0x0 0x70a1
                    0x0024 0x0068 0x0000 0x5 0x0 0x70a1
                    0x0028 0x006C 0x0000 0x5 0x0 0x80000000
                >;
            };
        };
    };

    fragment@2{
        target-path="/";
        __overlay__{
            bcmdhd_wlan_0: bcmdhd_wlan@0 {
                compatible = "android,bcmdhd_wlan";
                wlreg_on-supply = <&wlreg_on>;
            };

            spi4 {
                compatible = "spi-gpio";
                pinctrl-names = "default";
                pinctrl-0 = <&pinctrl_spi4>;
                pinctrl-assert-gpios = <&gpio5 8 1>;
                status = "okay";
                gpio-sck = <&gpio5 11 0>;
                gpio-mosi = <&gpio5 10 0>;
                cs-gpios = <&gpio5 7 0>;
                num-chipselects = <1>;
                #address-cells = <1>;
                #size-cells = <0>;

                gpio_spi: gpio_spi@0 {
                    compatible = "fairchild,74hc595";
                    gpio-controller;
                    #gpio-cells = <2>;
                    reg = <0>;
                    registers-number = <1>;
                    registers-default = /bits/ 8 <0x57>;
                    spi-max-frequency = <100000>;
                };
            };
        };
    };

    fragment@3{
        target=<&usdhc1>;
        __overlay__{
            pinctrl-names = "default";
            pinctrl-0 = <&pinctrl_usdhc1 &pinctrl_wifi>;

            pinctrl-1 = <&pinctrl_usdhc1_100mhz>;
            pinctrl-2 = <&pinctrl_usdhc1_200mhz>;

            keep-power-in-suspend;
            enable-sdio-wakeup;
            vmmc-supply = <&reg_sd1_vmmc>;
            no-1-8-v;
            non-removable;

            pm-ignore-notify;
            wifi-host;
            status = "okay";
        };
    };

    fragment@4{
            target-path="/regulators/regulator@1";
            __overlay__{
                compatible = "regulator-fixed";
                regulator-name = "WIFI_3V3";
                regulator-min-microvolt = <3300000>;
                regulator-max-microvolt = <3300000>;
                gpio = <&gpio1 1 0>;
                enable-active-high;
            };
    };

    fragment@5{
        target-path="/regulators";
        __overlay__{
            wlreg_on: fixedregulator@100 {
                compatible = "regulator-fixed";
                regulator-min-microvolt = <5000000>;
                regulator-max-microvolt = <5000000>;
                regulator-name = "wlan-en-gpio";
                gpio = <&gpio_spi 4 0>;
                startup-delay-us = <20000>;
                enable-active-high;
            };
        };
    };



};
